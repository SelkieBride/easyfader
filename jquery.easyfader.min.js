/*
* EASYFADER - An Ultralight Fading Slideshow For Responsive Layouts
* Version: 1.4
* License: Creative Commons Attribution 3.0 Unported - CC BY 3.0
* http://creativecommons.org/licenses/by/3.0/
* This software may be used freely on commercial and non-commercial projects with attribution to the author/copyright holder.
* Author: Patrick Kunka
* Copyright 2013 Patrick Kunka, All Rights Reserved
*/

(function(d){function f(a){for(var b=["Webkit","Moz","O","ms"],c=0;c<b.length;c++)if(b[c]+"Transition"in a.style)return"-"+b[c].toLowerCase()+"-";return"transition"in a.style?"":!1}d.fn.removeStyle=function(a){return this.each(function(){var b=d(this);a=a.replace(/\s+/g,"");var c=a.split(",");d.each(c,function(){var a=RegExp(this.toString()+"[^;]+;?","g");b.attr("style",function(b,c){if(c)return c.replace(a,"")})})})};var e={init:function(a){return this.each(function(){var b={slideDur:7E3,fadeDur:800,
onFadeStart:null,onFadeEnd:null,$container:d(this),slideSelector:".slide",fading:!1,firstLoad:!0,slideTimer:null,activeSlide:null,newSlide:null,$slides:null,totalSlides:null,$pagerList:null,$pagers:null};a&&d.extend(b,a);b.$slides=b.$container.find(b.slideSelector);b.totalSlides=b.$slides.length;b.$pagerList=b.$container.find(".pager_list");b.prefix=d.support.leadingWhitespace?f(b.$container[0]):!1;for(var c=0;c<b.totalSlides;c++)b.$pagerList.append('<li class="pager" data-target="'+c+'">'+(c+1)+
"</li>");b.$container.find(".pager").on("click",function(){var a=d(this).attr("data-target");clearTimeout(b.slideTimer);e.changeSlides(b,a)});b.$pagers=b.$pagerList.find(".pager");b.$pagers.eq(0).addClass("active");e.animateSlides(b,1,0)})},cleanUp:function(a,b,c){a.$slides.eq(b).removeStyle("opacity, z-index");a.$slides.eq(c).removeStyle(a.prefix+"transition, transition");a.activeSlide=c;a.fading=!1;e.waitForNext(a);"function"==typeof a.onFadeEnd&&a.onFadeEnd.call(this,a.$slides.eq(a.activeSlide))},
animateSlides:function(a,b,c){if(a.fading||b==c)return!1;a.fading=!0;"function"!=typeof a.onFadeStart||a.firstLoad||a.onFadeStart.call(this,a.$slides.eq(a.newSlide));a.$pagers.removeClass("active").eq(a.newSlide).addClass("active");a.$slides.eq(b).css("z-index",2);a.$slides.eq(c).css("z-index",3);if(a.prefix){var d={};d[a.prefix+"transition"]="opacity "+a.fadeDur+"ms";d.opacity=1;a.$slides.eq(c).css(d);setTimeout(function(){e.cleanUp(a,b,c)},a.fadeDur)}else a.$slides.eq(c).animate({opacity:1},a.fadeDur,
function(){e.cleanUp(a,b,c)})},changeSlides:function(a,b){"next"==b?(a.newSlide=a.activeSlide+1,a.newSlide>a.totalSlides-1&&(a.newSlide=0)):"prev"==b?(a.newSlide=a.activeSlide-1,0>a.newSlide&&(a.newSlide=a.totalSlides-1)):a.newSlide=b;e.animateSlides(a,a.activeSlide,a.newSlide)},waitForNext:function(a){a.firstLoad=!1;a.slideTimer=setTimeout(function(){e.changeSlides(a,"next")},a.slideDur)}};d.fn.easyFader=function(a){return e.init.apply(this,arguments)}})(jQuery);