/*
* EASYFADER - An Ultralight Fading Slideshow For Responsive Layouts
* Version: 1.6
* License: Creative Commons Attribution 3.0 Unported - CC BY 3.0
* http://creativecommons.org/licenses/by/3.0/
* This software may be used freely on commercial and non-commercial projects with attribution to the author/copyright holder.
* Author: Patrick Kunka
* Copyright 2013 Patrick Kunka, All Rights Reserved
*/

var EasyFader;
(function(d){d.fn.removeStyle=function(a){return this.each(function(){var c=d(this);a=a.replace(/\s+/g,"");var b=a.split(",");d.each(b,function(){var a=RegExp(this.toString()+"[^;]+;?","g");c.attr("style",function(c,b){if(b)return b.replace(a,"")})});"undefined"!==typeof c.attr("style")&&(b=c.attr("style").replace(/\s{2,}/g," ").trim(),c.attr("style",b),""==b&&c.removeAttr("style"))})};EasyFader=function(){this.slideDur=7E3;this.effectDur=800;this.onChangeEnd=this.onChangeStart=null;this.slideSelector=
".slide";this.changing=!1;this.effect="fade";this.firstLoad=!0;this.$pagers=this.$pagerList=this.totalSlides=this.$slides=this.newSlide=this.activeSlide=this.slideTimer=null};EasyFader.prototype={constructor:EasyFader,init:function(a,c){c&&d.extend(this,c);this.$container=d(a);this.$slides=this.$container.find(this.slideSelector);this.totalSlides=this.$slides.length;this.$pagerList=this.$container.find(".pager_list");var b;if(d.support.leadingWhitespace)a:{b=this.$container[0];for(var e=["Webkit",
"Moz","O","ms"],f=0;f<e.length;f++)if(e[f]+"Transition"in b.style){b="-"+e[f].toLowerCase()+"-";break a}b="transition"in b.style?"":!1}else b=!1;this.prefix=b;for(b=0;b<this.totalSlides;b++)this.$pagerList.append('<li class="pager" data-target="'+b+'">'+(b+1)+"</li>");this.bindHandlers();this.$pagers=this.$pagerList.find(".pager");this.$pagers.eq(0).addClass("active");this.fadeSlides(1,0)},bindHandlers:function(){var a=this;a.$container.find(".pager").on("click",function(){var c=d(this).attr("data-target");
clearTimeout(a.slideTimer);a.changeSlides(c)});d(window).on("keydown",function(c){c=39==c.keyCode?"next":"prev";clearTimeout(a.slideTimer);a.changeSlides(c)})},cleanUp:function(a,c){if(this.firstLoad)this.fadeCleanUp(a,c);else this[this.effect+"CleanUp"](a,c);this.activeSlide=c;this.changing=!1;this.waitForNext();"function"==typeof this.onChangeEnd&&this.onChangeEnd.call(this,this.$slides.eq(this.activeSlide))},fadeCleanUp:function(a,c){this.$slides.eq(a).removeStyle("opacity, z-index");this.$slides.eq(c).removeStyle(this.prefix+
"transition, transition")},animateSlides:function(a,c){if(this.changing||a==c)return!1;this.changing=!0;this.$pagers.removeClass("active").eq(this.newSlide).addClass("active");"function"!=typeof this.onChangeStart||this.firstLoad||this.onChangeStart.call(this,this.$slides.eq(this.newSlide));this[this.effect+"Slides"](a,c)},fadeSlides:function(a,c){var b=this;b.$slides.eq(a).css("z-index",2);b.$slides.eq(c).css("z-index",3);if(b.prefix){var e={};e[b.prefix+"transition"]="opacity "+b.effectDur+"ms";
e.opacity=1;b.$slides.eq(c).css(e);setTimeout(function(){b.cleanUp(a,c)},b.effectDur)}else b.$slides.eq(c).animate({opacity:1},b.effectDur,function(){b.cleanUp(a,c)})},changeSlides:function(a){"next"==a?(this.newSlide=this.activeSlide+1,this.newSlide>this.totalSlides-1&&(this.newSlide=0)):"prev"==a?(this.newSlide=this.activeSlide-1,0>this.newSlide&&(this.newSlide=this.totalSlides-1)):this.newSlide=a;this.animateSlides(this.activeSlide,this.newSlide)},waitForNext:function(){var a=this;a.firstLoad=
!1;a.slideTimer=setTimeout(function(){a.changeSlides("next")},a.slideDur)},getPrefixedCSS:function(a,c,b){var e={};for(i=0;2>i;i++){var d=0==i?this.prefix:"";b?e[d+a]=d+c:e[d+a]=c}return e}};d.fn.easyFader=function(a){return this.each(function(){(new EasyFader).init(this,a)})}})(jQuery);